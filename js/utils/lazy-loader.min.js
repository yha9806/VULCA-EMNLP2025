window.VULCALazyLoader=function(){"use strict";const e="200px 0px",t=.01,a="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 300'%3E%3Crect fill='%23f5f0eb' width='400' height='300'/%3E%3Ctext x='200' y='150' text-anchor='middle' fill='%23ccc' font-family='sans-serif' font-size='14'%3ELoading...%3C/text%3E%3C/svg%3E";let o=null,n=[];function r(){if(!o)return"IntersectionObserver"in window?void(o=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(s(e.target),o.unobserve(e.target))})},{rootMargin:e,threshold:t})):(console.warn("[LazyLoader] IntersectionObserver not supported, loading all images"),void document.querySelectorAll("img[data-src]").forEach(s))}function s(e){const t=e.dataset.src;if(!t)return;e.classList.add("lazy-loading");const a=new Image;a.onload=function(){e.src=t,e.removeAttribute("data-src"),e.classList.remove("lazy-loading","lazy-placeholder"),e.classList.add("lazy-loaded")},a.onerror=function(){console.error("[LazyLoader] Failed to load:",t),e.classList.remove("lazy-loading"),e.classList.add("lazy-error")},a.src=t}function i(e){o||r(),o&&e.dataset.src&&o.observe(e)}return{init:r,observe:i,preload:function(e){if(!e||n.includes(e))return;n.push(e);const t=new Image;t.src=e,t.onload=()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}},loadImage:s,createLazyImage:function(e,t,o={}){const n=document.createElement("img");return n.alt=t||"",n.classList.add("lazy-placeholder"),o.eager?(n.src=e,n.loading="eager",o.priority&&(n.fetchPriority="high")):(n.src=a,n.dataset.src=e,n.loading="lazy",i(n)),o.className&&(n.className+=" "+o.className),n},getPlaceholder:function(){return a}}}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.VULCALazyLoader.init):window.VULCALazyLoader.init();