window.GalleryHeroRenderer=function(){"use strict";function e(){const e=window.carousel,t=document.getElementById("gallery-hero");if(!e||!t)return void console.error("❌ Carousel or gallery-hero element not found");const o=document.getElementById("unified-navigation-container");if(!o)return void console.error("❌ unified-navigation-container not found");if(!window.UnifiedNavigation)return void console.error("❌ UnifiedNavigation component not loaded");const r=new window.UnifiedNavigation({container:o,artworkCarousel:e,showImageNav:!0,config:{enableKeyboardShortcuts:!0}});window.unifiedNav=r,console.log("✓ UnifiedNavigation component initialized"),n(e),e.on("navigate",t=>{n(e)}),document.addEventListener("langchange",()=>{console.log("[Gallery Hero] Language changed, re-rendering..."),n(e)}),console.log("✓ Gallery hero renderer initialized")}function n(e){!function(){const e=document.getElementById("gallery-hero");if(!e)return;let n=e.querySelector(".hero-title-section");n||(n=document.createElement("div"),n.className="hero-title-section",e.insertBefore(n,e.firstChild)),n.innerHTML="";const t=document.createElement("h1");t.className="hero-title";const o=document.createElement("span");o.lang="zh",o.textContent="潮汐的负形";const r=document.createElement("span");r.lang="en",r.textContent="Negative Space of the Tide",t.appendChild(o),t.appendChild(r);const a=document.createElement("p");a.className="hero-subtitle";const l=document.createElement("span");l.lang="zh",l.textContent="一场关于艺术评论的视角之旅";const i=document.createElement("span");i.lang="en",i.textContent="A Perspective Journey Through Art Critiques",a.appendChild(l),a.appendChild(i),n.appendChild(t),n.appendChild(a),console.log("✓ Rendered hero title section")}(),function(e){const n=document.getElementById("gallery-hero");if(!n)return;const t=e.getCurrentArtwork();if(!t)return;let o=n.querySelector(".artwork-header-section");if(!o){o=document.createElement("div"),o.className="artwork-header-section";const e=n.querySelector(".artwork-display");e?n.insertBefore(o,e):n.appendChild(o)}o.innerHTML="";const r=document.createElement("h2");r.className="artwork-title";const a=document.createElement("span");a.lang="zh",a.textContent=t.titleZh;const l=document.createElement("span");l.lang="en",l.textContent=t.titleEn,r.appendChild(a),r.appendChild(document.createElement("br")),r.appendChild(l),o.appendChild(r);const i=document.createElement("div");i.className="artwork-meta";const d=document.createElement("time");d.className="artwork-year",d.dateTime=t.year,d.textContent=`${t.year}`;const c=document.createElement("span");c.className="artwork-artist",c.textContent=t.artist||"Sougwen Chung",i.appendChild(d),i.appendChild(document.createTextNode(" • ")),i.appendChild(c),o.appendChild(i),console.log(`✓ Rendered artwork header: ${t.titleZh}`)}(e);const n=e.artworks[e.currentIndex];n?function(e){const n=document.getElementById("critiques-panel");if(!n)return void console.error("[Gallery Hero] critiques-panel not found");window.currentDialoguePlayer&&(console.log("[Gallery Hero] Destroying previous DialoguePlayer"),window.currentDialoguePlayer.destroy(),window.currentDialoguePlayer=null),n.innerHTML="";const t=window.getDialogueForArtwork?.(e);if(!t){console.error(`[Gallery Hero] No dialogue found for: ${e}`);const t=document.createElement("p");return t.className="dialogue-error",t.innerHTML='\n        <span lang="zh">对话数据加载失败</span>\n        <span lang="en">Dialogue data not found</span>\n      ',void n.appendChild(t)}console.log(`[Gallery Hero] Loading dialogue for ${e}:`,t.id);try{const o=new DialoguePlayer(t,n,{autoPlay:!0,speed:1,lang:document.documentElement.getAttribute("data-lang")||"zh"});window.currentDialoguePlayer=o,console.log(`✓ [Gallery Hero] DialoguePlayer initialized for ${e}`)}catch(e){console.error("[Gallery Hero] Failed to create DialoguePlayer:",e);const t=document.createElement("p");t.className="dialogue-error",t.innerHTML='\n        <span lang="zh">对话加载失败</span>\n        <span lang="en">Dialogue loading failed</span>\n      ',n.appendChild(t)}}(n.id):console.error("[Gallery Hero] No current artwork found")}function t(){window.VULCA_DATA_READY?e():document.addEventListener("vulca-data-ready",e,{once:!0})}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),{init:e,render:n}}(),console.log("✓ Gallery hero renderer module loaded");